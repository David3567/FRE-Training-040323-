<div class="flex justify-center mt-14">
  <form [formGroup]="updateUserForm">
    <ng-template matStepLabel>Fill out your name</ng-template>
    <div>
      <p>STEP 3 OF 3</p>
      <h1>Choose the plan that's right for you</h1>
      <div class="flex flex-col space-y-3">
        <div class="flex items-center gap-2">
          <mat-icon class="text-red-400">check</mat-icon>
          Watch all you want.
        </div>
        <div class="flex items-center gap-2">
          <mat-icon class="text-red-400">check</mat-icon>
          Recommendations just for you.
        </div>
        <div class="flex items-center gap-2">
          <mat-icon class="text-red-400">check</mat-icon>
          Change or cancel your plan anytime.
        </div>
      </div>
    </div>
    <div>
      <table mat-table [dataSource]="plans" class="mx-auto mt-5">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let plan">{{ plan.name }}</td>
        </ng-container>
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Price</th>
          <td mat-cell *matCellDef="let plan">
            {{ plan.price | currency }}
          </td>
        </ng-container>
        <ng-container matColumnDef="features">
          <th mat-header-cell *matHeaderCellDef>Features</th>
          <td mat-cell *matCellDef="let plan">{{ plan.features }}</td>
        </ng-container>
        <ng-container matColumnDef="resolution">
          <th mat-header-cell *matHeaderCellDef>Resolution</th>
          <td mat-cell *matCellDef="let plan">{{ plan.resolution }}</td>
        </ng-container>
        <ng-container matColumnDef="download">
          <th mat-header-cell *matHeaderCellDef>Download</th>
          <td mat-cell *matCellDef="let plan" class="text-center align-middle">
            <div class="flex justify-center">
              <mat-icon>{{ plan.download }}</mat-icon>
            </div>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          (click)="selectRow(row)"
          class="font-bold"
          [ngClass]="{ highlight: isSelected(row) }"
        ></tr>
      </table>
      <mat-error *ngIf="role?.hasError('required')"
        >Please select your membership type</mat-error
      >
      <div *ngIf="roleError" class="text-red-400">
        Please select your membership type
      </div>
    </div>
    <div class="flex justify-center mt-6">
      <button
        mat-flat-button
        color="warn"
        class="w-[80%]"
        (click)="updateUser()"
      >
        Next
      </button>
    </div>
  </form>
</div>
